<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FlapCat Steampunk</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">

<meta name="generator" content="Construct 3">
	<meta name="author" content="Filippi Leonardo">
	<meta name="description" content="Game fun!">
	<link rel="manifest" href="appmanifest.json">
	<link rel="apple-touch-icon" sizes="128x128" href="icons/icon-128.png">
	<link rel="apple-touch-icon" sizes="256x256" href="icons/icon-256.png">
	<link rel="icon" type="image/png" href="icons/icon-256.png">

<link rel="stylesheet" href="style.css">

</head>
<body>
<div id="fb-root"></div>

	<noscript>
		<div id="notSupportedWrap">
			<h2 id="notSupportedTitle">This content requires JavaScript</h2>
			<p class="notSupportedMessage">JavaScript appears to be disabled. Please enable it to view this content.</p>
		</div>
	</noscript>
		<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
	<script>
	    const checkConnection = async () => {

           // Check if browser is running Metamask
           let web3 = null;
		   let accounts = [];
		   
           if (window.ethereum) {
               web3 = new Web3(window.ethereum);
			   accounts = await web3.eth.getAccounts();
			   if(accounts.length == 0){
					accounts = await ethereum.request({ method: 'eth_requestAccounts' });
			   }
			    
           } else if (window.web3) {
               web3 = new Web3(window.web3.currentProvider);
           };

           // Check if User is already connected by retrieving the accounts
           web3.eth.getAccounts()
               .then(async (addr) => {
			   console.log(addr.length);
	
			   
                   // Set User account into state
               });
       };
       checkConnection();
	</script>
	<script src="scripts/supportcheck.js"></script>
	<script src="scripts/offlineclient.js" type="module"></script>
	<script src="scripts/main.js" type="module"></script>
	<script src="scripts/register-sw.js" type="module"></script>
</body>
</html>
